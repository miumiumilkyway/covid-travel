(()=>{"use strict";const t=JSON.parse('{"dt":0,"nu":100,"Cq":100,"No":60,"_A":30,"GJ":[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]]}');var e=document.documentElement.clientWidth||document.body.clientWidth,n=document.documentElement.clientHeight||document.body.clientHeight,i=700,o=1e3,r=t.No,a=t._A,s=81,h=91;const c=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e};var l={"4/0":"xinjiang","4/1":"xinjiang","4/2":"xinjiang","6/3":"xinjiang","15/4":"shanxi1","17/6":"chongqing","17/7":"chongqing","5/1":"xinjiang","5/2":"xinjiang","5/3":"xinjiang","5/4":"xinjiang","5/5":"xinjiang","5/6":"xinjiang","6/7":"xinjiang","7/7":"xinjiang","7/6":"xinjiang","7/5":"xinjiang","7/4":"xinjiang","7/3":"xinjiang","7/2":"xinjiang","8/7":"xinjiang","8/6":"xinjiang","8/5":"xinjiang","8/4":"xinjiang","8/3":"xinjiang","8/2":"xinjiang","9/10":"xizang","9/9":"xizang","9/8":"xizang","9/7":"xinjiang","9/6":"xinjiang","9/5":"xinjiang","9/4":"xinjiang","17/5":"hubei","18/5":"hubei","19/5":"hubei","18/6":"hubei","24/12":"hainan","10/10":"xizang","10/9":"xizang","10/8":"xizang","10/7":"xizang","10/6":"xinjiang","10/5":"qinghai","10/4":"gansu","10/3":"gansu","13/3":"ningxia","14/4":"ningxia","14/5":"gansu","15/5":"gansu","10/2":"neimenggu","11/2":"neimenggu","11/4":"gansu","11/5":"qinghai","12/5":"qinghai","13/5":"qinghai","11/6":"qinghai","11/7":"qinghai","12/7":"qinghai","13/7":"qinghai","13/6":"qinghai","11/8":"xizang","11/9":"xizang","11/10":"xizang","11/-4":"neimenggu","11/-3":"neimenggu","11/-2":"neimenggu","12/0":"neimenggu","12/10":"xizang","12/9":"xizang","13/8":"xizang","13/9":"xizang","13/10":"xizang","13/11":"xizang","14/9":"xizang","14/10":"xizang","15/10":"xizang","15/9":"xizang","12/6":"qinghai","12/3":"gansu","12/4":"gansu","13/4":"gansu","14/6":"qinghai","12/2":"neimemggu","12/1":"neimemggu","12/-1":"neimemggu","12/-2":"neimemggu","12/-3":"neimemggu","13/-3":"neimemggu","13/-2":"neimemggu","12/-4":"jilin","9/-7":"neimenggu","9/-6":"neimenggu","10/-5":"neimenggu","10/-6":"neimenggu","10/-7":"heilongjiang","11/-7":"heilongjiang","11/-6":"heilongjiang","11/-5":"heilongjiang","12/-6":"heilongjiang","12/-5":"heilongjiang","13/-4":"jilin","14/-4":"jilin","14/-3":"liaoning","14/-2":"liaoning","15/-1":"liaoning","13/-5":"heilongjiang","22/8":"guangdong","23/8":"guangdong","22/9":"guangdong","23/11":"guangdong","22/6":"fujian","22/7":"fujian","24/7":"taiwan","21/9":"guangxi","20/10":"guangxi","21/10":"guangxi","22/10":"guangxi","19/10":"yunnan","18/10":"yunnan","18/11":"yunnan","19/11":"yunnan","20/11":"yunnan","20/12":"yunnan","15/6":"sichuan","16/6":"sichuan","14/7":"sichuan","15/7":"sichuan","16/7":"sichuan","16/8":"sichuan","17/8":"sichuan","17/9":"sichuan","19/8":"guizhou","19/9":"guizhou","20/9":"guizhou","19/7":"hunan","20/7":"hunan","20/8":"hunan","21/8":"hunan","19/2":"shanghai","19/3":"shanghai","18/3":"anhui","19/4":"anhui","18/2":"jiangsu","20/4":"zhejiang","21/4":"zhejiang","21/5":"zhejiang","20/5":"jiangxi","20/6":"jiangxi","21/6":"jiangxi","21/7":"jiangxi","16/1":"shandong","16/0":"shandong","17/2":"shandong","16/3":"henan","17/3":"henan","17/4":"henan","18/4":"henan","14/-1":"hebei","15/1":"hebei","14/3":"shanxi1","16/4":"henan","12/8":"qinghai","16/5":"shanxi1","14/1":"shanxi2","15/2":"shanxi2","15/3":"shanxi2","13/-1":"beijing","15/0":"tianjin","23/19":"Macao"},u={beijing:{name:"北京",high:0,mid:1,low:1,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"限制入京",normal:"48小时内核酸阴性证明+北京健康宝绿码；落地居家健康监测3天+3天2检"},tianjing:{name:"天津",high:15,mid:15,low:0,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"高风险区：7天集中隔离+7天5检；中风险区：7天居家隔离+7天3检",normal:"48小时内核酸阴性证明+天津健康码绿码；落地核酸"},shanghai:{name:"上海",high:0,mid:17,low:14,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"提前申报；48小时内核酸阴性证明；高风险区：7天集中隔离；中风险区：7天居家隔离",normal:"提前申报；48小时内核酸阴性证明；3天3检"},chongqing:{name:"重庆",high:16,mid:22,low:7,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"高风险区：7天集中隔离+7天5检；中风险区：7天居家隔离+7天3检",normal:"提前申报；48小时内核酸阴性证明；3天3检"},henan:{name:"河南省",high:11,mid:36,low:6,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"高风险区：7天集中隔离；中风险区：7天居家隔离",normal:"落地报备；24小时内核酸阴性证明；落地核酸+3天3检 "},hubei:{name:"湖北省",high:0,mid:0,low:0,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"健康申报；高风险区：7天集中隔离+7天5检；中风险区：7天居家隔离+7天3检",normal:"健康申报；5天4检 "},hunan:{name:"湖南省",high:0,mid:0,low:0,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"高风险区：7天集中隔离+7天5检；中风险区：7天居家隔离+7天3检",normal:"落地报备；48小时内核酸阴性证明 "},guangdong:{name:"广东省",high:54,mid:69,low:24,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"高风险区：7天集中隔离+7天5检；中风险区：7天居家隔离+7天3检",normal:"48小时内核酸阴性证明；3天3检 "},hainan:{name:"海南省",high:0,mid:0,low:0,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"高风险区：7天集中隔离+7天5检",normal:"落地报备；3天3检 "},shandong:{name:"山东省",high:2,mid:2,low:1,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"高风险区：7天集中隔离；中风险区：7天居家隔离",normal:"3天2检"},sichuan:{name:"四川省",high:2,mid:1,low:3,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"高风险区：7天集中隔离+7天5检；中风险区：7天居家隔离+7天3检",normal:"3天3检 "},guizhou:{name:"贵州省",high:0,mid:0,low:0,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"贵州健康码申报；高风险区：7天集中隔离+7天5检；中风险区：7天居家隔离+7天3检",normal:"贵州健康码申报；48小时内核酸阴性证明；3天3检 "},yunnan:{name:"云南省",high:0,mid:0,low:0,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"落地报备；中高风险区按照《新型冠状病毒肺炎防控方案（第九版）》管控",normal:"落地报备；3天2检"},shanxi2:{name:"山西省",high:7,mid:3,low:2,underRisk:"高风险区：7天集中隔离+7天5检；中风险区：7天居家隔离+7天3检",normal:"落地核酸+3天2检",foreignEntry:"7天集中隔离+3天居家健康监测"},liaoning:{name:"辽宁省",high:0,mid:0,low:0,underRisk:"高风险区：7天集中隔离+7天5检；中风险区：7天居家隔离+7天3检",normal:"3天2检",foreignEntry:"7天集中隔离+3天居家健康监测"},jilin:{name:"吉林省",high:2,mid:0,low:0,underRisk:"高风险区：7天集中隔离+7天5检；中风险区：7天居家隔离+7天3检",normal:"3天2检",foreignEntry:"7天集中隔离+3天居家健康监测"},heilongjiang:{name:"黑龙江省",high:0,mid:0,low:0,underRisk:"中高风险区：7天居家隔离+7天7检",normal:"3+4管控措施；7天7检",foreignEntry:"7天集中隔离+3天居家健康监测"},jiangsu:{name:"江苏省",high:2,mid:15,low:7,underRisk:"高风险区：7天集中隔离+7天5检；中风险区：7天居家隔离+7天3检；低风险区：7天5检",normal:"落地核酸+3天3检3+4管控措施；7天7检",foreignEntry:"7天集中隔离+3天居家健康监测"},zhejiang:{name:"浙江省",high:0,mid:0,low:0,underRisk:"高风险区：7天集中隔离；中风险区：7天居家隔离；低风险区：3天2检",normal:" ",foreignEntry:"7天集中隔离+3天居家健康监测"},anhui:{name:"安徽省",high:1,mid:35,low:5,underRisk:"中高风险区：集中隔离+48小时核酸查验",normal:" ",foreignEntry:"7天集中隔离+3天居家健康监测"},fujian:{name:"福建省",high:0,mid:35,low:6,underRisk:"高风险区：7天集中隔离+7天5检；中风险区：7天居家隔离+7天3检",normal:"48小时内核酸阴性证明；3天2检",foreignEntry:"7天集中隔离+3天居家健康监测"},jiangxi:{name:"江西省",high:0,mid:0,low:0,underRisk:"48小时内核酸证明；高风险区：7天集中隔离+7天5检；中风险区：7天居家隔离+7天3检；低风险区：落地核酸+3天2检",normal:" ",foreignEntry:"7天集中隔离+3天居家健康监测"},shanxi1:{name:"陕西省",high:51,mid:87,low:10,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"高风险区：7天集中隔离；中风险区：7天居家隔离",normal:"低风险区：3天2检；其他详见西安市疫情防控政策"},gansu:{name:"甘肃省",high:5,mid:16,low:2,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"高风险区：7天集中隔离；中风险区：7天居家隔离",normal:"低风险区：3天2检"},qinghai:{name:"青海省",high:154,mid:102,low:4,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"高风险区：7天集中隔离；中风险区：7天居家隔离",normal:"低风险区：3天2检"},neimenggu:{name:"内蒙古自治区",high:268,mid:203,low:5,foreignEntry:"严格限制",underRisk:"严格限制",normal:"严格限制"},guangxi:{name:"广西壮族自治区",high:0,mid:0,low:0,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"落地报备；风险区人员提前与目的地社区联系了解相关政策",normal:"落地报备；48小时内核酸阴性证明；落地核酸+3天2检"},xizang:{name:"西藏自治区",high:0,mid:0,low:0,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"提前3天报备；高风险区：7天集中隔离+7天5检；中风险区：7天居家隔离+7天3检",normal:"提前3天报备；48小时内核酸阴性证明；3天2检"},ningxia:{name:"宁夏回族自治区",high:7,mid:14,low:5,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"高风险区：7天集中隔离+7天5检；中风险区：7天居家隔离+7天3检",normal:"48小时内核酸阴性证明；3天2检"},xinjiang:{name:"新疆维吾尔自治区",high:841,mid:125,low:6,foreignEntry:"7天集中隔离+3天居家健康监测",underRisk:"入疆申报；高风险区：7天集中隔离；中风险区：7天居家隔离",normal:"入疆申报；3天2检"}};const d=function(){function t(){this._value=0,this._f=0,this._g=0,this._h=0,this._parent=null,this.ele=null}return t.prototype.toString2=function(){return"路点世界坐标：（"+this._cx+","+this._cy+"),  "+" g=".concat(this.g)+" h=".concat(this.h)+" f=".concat(this.f)},t.prototype.toString=function(){return"路点像素坐标：（"+this._px+","+this._py+"),  路点世界坐标：（"+this._cx+","+this._cy+"),  路点平面直角坐标：（"+this._dx+","+this._dy+")"},Object.defineProperty(t.prototype,"px",{get:function(){return this._px},set:function(t){this._px=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"py",{get:function(){return this._py},set:function(t){this._py=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cx",{get:function(){return this._cx},set:function(t){this._cx=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cy",{get:function(){return this._cy},set:function(t){this._cy=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dx",{get:function(){return this._dx},set:function(t){this._dx=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dy",{get:function(){return this._dy},set:function(t){this._dy=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"f",{get:function(){return this._f},set:function(t){this._f=t,this.ele&&this.ele.resetText()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._g},set:function(t){this._g=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this._h},set:function(t){this._h=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(t){this._parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"province",{get:function(){return console.log(null==l?void 0:l["".concat(this._cx,"/").concat(this._cy)]),null==l?void 0:l["".concat(this._cx,"/").concat(this._cy)]},enumerable:!1,configurable:!0}),t}();var g;!function(t){t[t.angle45=0]="angle45",t[t.angle90=1]="angle90",t[t.honeycomb=2]="honeycomb"}(g||(g={}));var p=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.updateMapInfo=function(t,e,n,i,o){this._mapWidth=t,this._mapHeight=e,this._nodeWidth=n,this._nodeHeight=i,this._halfNodeWidth=Math.floor(this._nodeWidth/2),this._halfNodeHeight=Math.floor(this._nodeHeight/2),this._col=Math.ceil(t/this._nodeWidth),this._row=Math.ceil(e/this._nodeHeight),this._mapType=o,this._mapType===g.angle45&&(this._mapRoad=new y(this._row,this._col,this._nodeWidth,this._nodeHeight,this._halfNodeWidth,this._halfNodeHeight))},t.prototype.getNodeByPixel=function(t,e){return this._mapRoad?this._mapRoad.getNodeByPixel(t,e):new d},t.prototype.getNodeByDerect=function(t,e){return this._mapRoad?this._mapRoad.getNodeByDerect(t,e):new d},t.prototype.getNodeByWorldPoint=function(t,e){return this._mapRoad?this._mapRoad.getNodeByWorldPoint(t,e):new d},t.prototype.getWorldPointByPixel=function(t,e){return this._mapRoad?this._mapRoad.getWorldPointByPixel(t,e):new c},t.prototype.getPixelByWorldPoint=function(t,e){return this._mapRoad?this._mapRoad.getPixelByWorldPoint(t,e):new c},t.prototype.getDerectByPixel=function(t,e){return this._mapRoad?this._mapRoad.getDerectByPixel(t,e):new c},t.prototype.getDerectByWorldPoint=function(t,e){return this._mapRoad?this._mapRoad.getDerectByWorldPoint(t,e):new c},t.prototype.getPixelByDerect=function(t,e){return this._mapRoad?this._mapRoad.getPixelByDerect(t,e):new c},Object.defineProperty(t.prototype,"mapWidth",{get:function(){return this._mapWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mapHeight",{get:function(){return this._mapHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nodeWidth",{get:function(){return this._nodeWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nodeHeight",{get:function(){return this._nodeHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this._row},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._col},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"halfNodeWidth",{get:function(){return this._halfNodeWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"halfNodeHeight",{get:function(){return this._halfNodeHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mapType",{get:function(){return this._mapType},enumerable:!1,configurable:!0}),t}();const f=p;var y=function(){function t(t,e,n,i,o,r){this._row=t,this._col=e,this._nodeWidth=n,this._nodeHeight=i,this._halfNodeWidth=o,this._halfNodeHeight=r}return t.prototype.getNodeByPixel=function(t,e){var n=this.getWorldPointByPixel(t,e),i=this.getPixelByWorldPoint(n.x,n.y),o=this.getDerectByPixel(t,e),r=new d;return r.cx=n.x,r.cy=n.y,r.px=i.x,r.py=i.y,r.dx=o.x,r.dy=o.y,r},t.prototype.getNodeByDerect=function(t,e){var n=this.getPixelByDerect(t,e),i=this.getWorldPointByPixel(n.x,n.y),o=new d;return o.cx=i.x,o.cy=i.y,o.px=n.x,o.py=n.y,o.dx=t,o.dy=e,o},t.prototype.getNodeByWorldPoint=function(t,e){var n=this.getPixelByWorldPoint(t,e);return this.getNodeByPixel(n.x,n.y)},t.prototype.getWorldPointByPixel=function(t,e){var n=Math.ceil(t/this._nodeWidth-.5+e/this._nodeHeight)-1,i=this._col-1-Math.ceil(t/this._nodeWidth-.5-e/this._nodeHeight);return new c(n,i)},t.prototype.getPixelByWorldPoint=function(t,e){var n=Math.floor((t+1-(e-(this._col-1)))*this._halfNodeWidth),i=Math.floor((t+1+(e-(this._col-1)))*this._halfNodeHeight);return new c(n,i)},t.prototype.getDerectByPixel=function(t,e){var n=this.getWorldPointByPixel(t,e),i=this.getPixelByWorldPoint(n.x,n.y),o=Math.floor(i.x/this._nodeWidth)-(i.x%this._nodeWidth==0?1:0),r=Math.floor(i.y/this._halfNodeHeight)-1;return new c(o,r)},t.prototype.getDerectByWorldPoint=function(t,e){var n=Math.floor((t-(e-(this._col-1)))/2),i=t+(e-(this._col-1));return new c(n,i)},t.prototype.getPixelByDerect=function(t,e){var n=Math.floor((t+e%2)*this._nodeWidth+(1-e%2)*this._halfNodeWidth),i=Math.floor((e+1)*this._halfNodeHeight);return new c(n,i)},t}();const _=function(){function t(t){this.COST_STRAIGHT=10,this.COST_DIAGONAL=14,this.maxStep=1e3,this._round=[[0,-1,10],[1,-1,14],[1,0,10],[1,1,14],[0,1,10],[-1,1,14],[-1,0,10],[-1,-1,14]],this.handle=-1,this.optimize=!0,this._roadNodes=t}return t.prototype.resetText=function(){for(var t in this._roadNodes){var e=this._roadNodes[t];e.ele&&e.ele.htxt&&(e.ele.htxt.visible=!1)}},t.prototype.seekPath=function(t,e){if(this._startNode=t,this._currentNode=t,this._targetNode=e,!this._startNode||!this._targetNode)return[];if(console.log("from: ".concat(t.cx,",").concat(t.cy)," to: ".concat(e.cx,",").concat(e.cy)),1===this._targetNode.value)return console.log("目标不可达到："),[];this._openlist=[],this._closelist=[];for(var n=0;;){if(n>this.maxStep)return console.log("没找到目标计算步骤为：",n),[];if(n++,this.searchRoundNodes(this._currentNode),0==this._openlist.length)return console.log("没找到目标计算步骤为：",n),[];if(this._openlist.sort(this.sortNode),this._currentNode=this._openlist.shift(),this._currentNode==this._targetNode)return console.log("找到目标计算步骤为：",n),this.getPath();this._closelist.push(this._currentNode)}return[]},t.prototype.seekPath2=function(t,e){if(this._startNode=t,this._currentNode=t,this._targetNode=e,!this._startNode||!this._targetNode)return[];console.log("from:(".concat(t.cx,",").concat(t.cy,")")," to:(".concat(e.cx,",").concat(e.cy,")")),this.resetText(),this._openlist=[],this._closelist=[];for(var n=0,i=null;;){if(n>this.maxStep)return console.log("没找到目标计算步骤为：",n),this.seekPath(t,i);if(n++,this.searchRoundNodes(this._currentNode),0==this._openlist.length)return console.log("没找到目标计算步骤为：",n),this.seekPath(t,i);if(this._openlist.sort(this.sortNode),this._currentNode=this._openlist.shift(),(null==i||this._currentNode.h<i.h)&&(i=this._currentNode),this._currentNode==this._targetNode)return console.log("找到目标计算步骤为：",n),this.getPath();this._closelist.push(this._currentNode)}return this.seekPath(t,i)},t.prototype.sortNode=function(t,e){return t.f<e.f?-1:t.f>e.f?1:0},t.prototype.getPath=function(){for(var t=[],e=this._targetNode;e!=this._startNode;)t.unshift(e),e=e.parent;if(t.unshift(this._startNode),!this.optimize)return t;for(var n=1;n<t.length-1;n++){var i=t[n-1],o=t[n],r=t[n+1],a=o.cx==i.cx&&o.cx==r.cx,s=o.cy==i.cy&&o.cy==r.cy,h=(o.cx-i.cx)/(o.cy-i.cy)*((r.cx-o.cx)/(r.cy-o.cy))==1;(a||s||h)&&(t.splice(n,1),n--)}for(n=0;n<t.length-2;n++){for(var c=t[n],l=null,u=t.length-1;u>n+1;u--){var d=t[u];if(c.cx!=d.cx&&c.cy!=d.cy&&Math.abs(d.cx-c.cx)!=Math.abs(d.cy-c.cy)&&this.isArriveBetweenTwoNodes(c,d)){l=d;break}}if(l){var g=u-n-1;t.splice(n+1,g)}}return t},t.prototype.isArriveBetweenTwoNodes=function(t,e){if(t==e)return!1;var n=Math.abs(e.cx-t.cx),i=Math.abs(e.cy-t.cy),o=0;e.cx>t.cx?o=1:e.cx<t.cx&&(o=-1);var r=0;e.cy>t.cy?r=1:e.cy<t.cy&&(r=-1);var a=0,s=0,h=0,c=0;if(n>i)for(var l=i/n,u=0;u<n;u++){s=t.cy+u*r*l,h=Math.floor(s),c=s%1;var d=t.cx+u*o,g=c<=.5?h:h+1;s=t.cy+(u+1)*r*l,h=Math.floor(s),c=s%1;var p=t.cx+(u+1)*o,f=c<=.5?h:h+1,y=this._roadNodes[d+"_"+g],_=this._roadNodes[p+"_"+f];if(!this.isCrossAtAdjacentNodes(y,_))return!1}else for(l=n/i,u=0;u<i;u++)if(a=u*o*l,h=o>0?Math.floor(t.cx+a):Math.ceil(t.cx+a),d=(c=Math.abs(a%1))<=.5?h:h+1*o,g=t.cy+u*r,a=(u+1)*o*l,h=o>0?Math.floor(t.cx+a):Math.ceil(t.cx+a),p=(c=Math.abs(a%1))<=.5?h:h+1*o,f=t.cy+(u+1)*r,y=this._roadNodes[d+"_"+g],_=this._roadNodes[p+"_"+f],!this.isCrossAtAdjacentNodes(y,_))return!1;return!0},t.prototype.isCrossAtAdjacentNodes=function(t,e){if(t==e)return!1;if(!this.isPassNode(t)||!this.isPassNode(e))return!1;var n=e.cx-t.cx,i=e.cy-t.cy;return!(Math.abs(n)>1||Math.abs(i)>1||t.cx!=e.cx&&t.cy!=e.cy&&(!this.isPassNode(this._roadNodes[t.cx+"_"+(t.cy+i)])||!this.isPassNode(this._roadNodes[t.cx+n+"_"+t.cy])))},t.prototype.isPassNode=function(t){return!(!t||1==t.value)},t.prototype.testSeekPathStep=function(t,e,n,i,o){var r=this;if(void 0===o&&(o=100),this._startNode=t,this._currentNode=t,this._targetNode=e,1!=this._targetNode.value){this._openlist=[],this._closelist=[];var a=0;clearInterval(this.handle),this.handle=setInterval((function(){return a>r.maxStep?(console.log("没找到目标计算步骤为：",a),void clearInterval(r.handle)):(a++,r.searchRoundNodes(r._currentNode),0==r._openlist.length?(console.log("没找到目标计算步骤为：",a),void clearInterval(r.handle)):(r._openlist.sort(r.sortNode),r._currentNode=r._openlist.shift(),void(r._currentNode==r._targetNode?(console.log("找到目标计算步骤为：",a),clearInterval(r.handle),n.apply(i,[r._startNode,r._targetNode,r._currentNode,r._openlist,r._closelist,r.getPath()])):(r._closelist.push(r._currentNode),n.apply(i,[r._startNode,r._targetNode,r._currentNode,r._openlist,r._closelist,null])))))}),o)}},t.prototype.searchRoundNodes=function(t){var e=this;this._round.forEach((function(n,i){var o=n[0],r=n[1],a=(n[2],t.cx+o),s=t.cy+r,h=e._roadNodes[a+"_"+s];null==h||h==e._startNode||1===h.value||e.isInCloseList(h)||e.isInCorner(h)||e.setNodeF(h)}))},t.prototype.setNodeF=function(t){var e;if(e=t.cx==this._currentNode.cx||t.cy==this._currentNode.cy?this._currentNode.g+this.COST_STRAIGHT:this._currentNode.g+this.COST_DIAGONAL,this.isInOpenList(t)){if(!(e<t.g))return;t.g=e}else t.g=e,this._openlist.push(t);t.h=(Math.abs(this._targetNode.cx-t.cx)+Math.abs(this._targetNode.cy-t.cy))*this.COST_STRAIGHT,t.f=t.g+t.h,t.parent=this._currentNode},t.prototype.isInOpenList=function(t){return-1!=this._openlist.indexOf(t)},t.prototype.isInCloseList=function(t){return-1!=this._closelist.indexOf(t)},t.prototype.isInCorner=function(t){if(t.cx==this._currentNode.cx||t.cy==this._currentNode.cy)return!1;var e=this._roadNodes[this._currentNode.cx+"_"+t.cy],n=this._roadNodes[t.cx+"_"+this._currentNode.cy];return!this.isPassNode(e)||!this.isPassNode(n)},t.prototype.dispose=function(){this._roadNodes=null,this._round=null},t}();var m,x=(m=function(t,e){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},m(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const v=function(t){function e(){for(var e=t.call(this)||this,n=[],i=1;i<=64;i++){var o=PIXI.Texture.from("Explosion_Sequence_A ".concat(i,".png"));n.push(o)}var r=e.player=new PIXI.AnimatedSprite(n);r.onFrameChange=function(){var t=r.currentFrame;(t>e.endFrame||56===e.startFrame&&0===t)&&r.gotoAndPlay(e.startFrame)},r.x=0,r.y=0,r.anchor.set(.5,.65625),r.gotoAndStop(49),r.animationSpeed=.2,e.addChild(r);var a=new PIXI.Graphics;return a.beginFill(14561865),a.drawRect(0,0,5,5),a.endFill(),e.addChild(a),e}return x(e,t),e.prototype.setPosition=function(t,e){this.x=t,this.y=e},e.prototype.play=function(t){(t=(t+360)%360)<=202.5&&t>157.5?(this.startFrame=0,this.endFrame=7):t<=247.5&&t>202.5?(this.startFrame=8,this.endFrame=15):t<=292.5&&t>247.5?(this.startFrame=16,this.endFrame=23):t<=337.5&&t>292.5?(this.startFrame=24,this.endFrame=31):t<=22.5||t>337.5?(this.startFrame=32,this.endFrame=39):t<=67.5&&t>22.5?(this.startFrame=40,this.endFrame=47):t<=112.5&&t>67.5?(this.startFrame=48,this.endFrame=55):t<=157.5&&t>112.5&&(this.startFrame=56,this.endFrame=63),this.player.gotoAndPlay(this.startFrame)},e.prototype.stop=function(){this.player.gotoAndStop(this.startFrame)},e}(PIXI.Container);var b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const P=function(t){function e(){var e=t.call(this)||this;e.mapPieceStatus=[];var n=null;e.interactive=!0,e.on("pointerdown",(function(t){n={x:t.data.global.x,y:t.data.global.y}})),e.on("pointerup",(function(t){if(n){var i=n.x,o=n.y,r={x:t.data.global.x,y:t.data.global.y},a=r.x,s=r.y;Math.sqrt((a-i)*(a-i)+(s-o)*(s-o))<1&&e.emit("click_map",t.data.getLocalPosition(e.parent))}n=null}));var r=PIXI.Sprite.from("./static/assets/s2/s2_min.jpg");e.addChildAt(r,0),r.scale.set(i/r.texture.width,o/r.texture.height),e.mapPieceStatus=[];for(var a=0;a<6;a++){e.mapPieceStatus[a]=[];for(var c=0;c<8;c++){e.mapPieceStatus[a][c]=0;var l=new PIXI.Graphics;l.lineStyle(0,16777215,1),l.moveTo(0,0),l.lineTo(s,0),l.lineTo(s,h),l.lineTo(0,h),l.closePath(),l.endFill(),e.addChild(l),l.position.set(c*s,a*h),new PIXI.Text("".concat(a,"/").concat(c),{fontSize:12,fill:16777215,align:"center"}).position.set(c*s,a*h)}}return e}return b(e,t),e.prototype.update=function(){for(var t=this.parent,e=t.x,i=t.y,o=Math.ceil(n/h),r=Math.ceil(8.641975308641975),a=parseInt(Math.abs(i)/h),c=parseInt(Math.abs(e)/s),l=0;l<o;l++)for(var u=0;u<r;u++){var d=a+l,g=c+u;this.mapPieceStatus[d][g]||(this.mapPieceStatus[d][g]=1,this.load(d,g))}},e.prototype.load=function(t,e){var n=this,i="./static/assets/s2/s2_".concat(t,"_").concat(e,".png"),o=new PIXI.Loader;o.add(i),o.once("complete",(function(){var o=s*e,r=h*t,a=new PIXI.Sprite.from(i);n.addChildAt(a,1),a.position.set(o,r)})),o.load()},e.prototype.drawNode=function(t){var e=new w(t);this.addChild(e),t.ele=e},e}(PIXI.Container);var w=function(t){function e(e){var n=t.call(this)||this;n.node=e;var i=e.cx,o=e.cy,r=(e.dx,e.dy,e.px),a=e.py,s=e.value;n.x=r,n.y=a,n.bg=new PIXI.Graphics,n.addChild(n.bg),n.setBGColor(0===s?32768:16711680,0===s?0:.1);var h=new PIXI.Text("".concat(i,"/").concat(o),{fontSize:12,fill:16711680,align:"center"});return h.anchor.set(.5,.5),h.x=0,h.y=0,h.angle=26.56505117707799,n}return b(e,t),e.prototype.resetText=function(){this.htxt&&(this.htxt.visible=!0),this.htxt&&(this.htxt.text="".concat(this.node.g,",").concat(this.node.h,",").concat(this.node.f))},e.prototype.setBGColor=function(t,e){var n=r,i=a,o=this.bg;return o.clear(),o.beginFill(t,e),o.lineStyle(0,65535,.3),o.moveTo(-n/2,0),o.lineTo(0,-i/2),o.lineTo(n/2,0),o.lineTo(0,i/2),o.closePath(),o.endFill(),this},e.prototype.resetBg=function(){var t=this.node.value;this.setBGColor(0===t?32768:16711680,0===t?0:.3)},e}(PIXI.Container),N=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const j=function(e){function n(){var n=e.call(this)||this;n._roadDic={},n.roadNodeArr=[],n.sceneMap=new P,n.addChild(n.sceneMap),n.sceneMap.on("click_map",(function(t){n.startNode&&n.startNode.resetBg(),n.targetNode&&n.targetNode.resetBg(),console.log("click map",t);var e=t.x,i=t.y,o=f.instance.getWorldPointByPixel(n.player.x,n.player.y),r=f.instance.getWorldPointByPixel(e,i),a=n._roadDic[o.x+"_"+o.y],s=n._roadDic[r.x+"_"+r.y];console.log(a,s);var h=n._roadSeeker.seekPath2(a,s);console.log(h),h.length;var c=window.TweenMax.getTweensOf(n.player);c&&c.length&&c[0].kill(),n.roadNodeArr=h,n.move(h[h.length-1].province)})),n.player=new v,n.addChild(n.player),f.instance.updateMapInfo(t.nu,t.Cq,t.No,t._A,t.dt);for(var i=0;i<t.GJ.length;i++)for(var o=0;o<t.GJ[0].length;o++)(r=f.instance.getNodeByDerect(o,i)).value=t.GJ[i][o],n._roadDic[r.cx+"_"+r.cy]=r,i<200&&o<200&&n.sceneMap.drawNode(r);n._roadSeeker=new _(n._roadDic);var r=f.instance.getNodeByDerect(4,9);return n.player.setPosition(r.px,r.py),n}return N(n,e),n.prototype.move=function(t){if(this.roadNodeArr&&this.roadNodeArr.length>0){var e=this.roadNodeArr.shift();console.log(e.toString());var n=e.px-this.player.x,i=e.py-this.player.y,o=180/Math.PI*Math.atan2(i,n);this.player.play(o);var r=Math.sqrt(n*n+i*i),a=Math.abs(r)/100*1;window.TweenMax.to(this.player,a,{x:e.px,y:e.py,ease:window.Power0.easeNone,onComplete:this.move.bind(this,t)})}else if(this.player.stop(),u[t]){console.log(t,u[t]);var s=u[t],h=s.name,c=s.high,l=s.mid,d=s.foreignEntry,g=s.low,p=s.underRisk,f=s.normal;alert("".concat(h,"：\n        高风险地区").concat(c,"个,\n        中风险地区").concat(l,"个,\n        低风险地区").concat(g,"个,\n        境外入境人员需要").concat(d,",\n        境内风险地区人员进入需要遵循：\n        ").concat(p,"\n        其他地区人员进入需要遵循:").concat(f,"\n        "))}},n}(PIXI.Container);var O=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const M=function(t){function e(e){var n=t.call(this)||this;n.$config=Object.assign({},e);var i=new PIXI.Sprite.from("./static/assets/minus.png");n.addChild(i),i.scale.set(.5),i.buttonMode=!0,i.interactive=!0,i.on("pointerdown",(function(t){n.ratio-=.1,n.$config.update&&n.$config.update(n._ratio),t.stopPropagation()}));var o=new PIXI.Text("",{fontFamily:"Arial",fontSize:16,fill:0,align:"center"});o.anchor.set(.5),n.addChild(o),o.x=52.5,o.y=12.5,n.text=o;var r=new PIXI.Sprite.from("./static/assets/plus.png");return n.addChild(r),r.scale.set(.5),r.buttonMode=!0,r.x=80,r.interactive=!0,r.on("pointerdown",(function(t){n.ratio+=.1,n.$config.update&&n.$config.update(n._ratio),t.stopPropagation()})),n.ratio=n.$config.ratio||1,n}return O(e,t),Object.defineProperty(e.prototype,"ratio",{get:function(){return this._ratio},set:function(t){t<=this.$config.minScale?t=this.$config.minScale:t>=this.$config.maxScale&&(t=this.$config.maxScale),this._ratio=t,this.text.text=parseInt(100*this._ratio)+"%"},enumerable:!1,configurable:!0}),e}(PIXI.Container);var I=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const S=function(t){function r(e){void 0===e&&(e={});var n=t.call(this,e)||this;document.body.prepend(n.view);var i=new PIXI.Loader;return i.add("spritesheet","./static/assets/mc.json"),i.once("complete",(function(){n.init()})),i.load(),n}return I(r,t),r.prototype.init=function(){return t=this,r=void 0,s=function(){var t,r,a,s,h;return function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}(this,(function(c){return t=Math.max(e/i,n/o),r=new j,this.stage.addChild(r),r.scale.set(1),a=new M({ratio:r.scale.x,minScale:t,maxScale:2,update:function(t){var r=h.value;h.value=t,h.calculatePosition(r,h.value,e/2,n/2),s.contentWidth=i*t,s.contentHeight=o*t}}),this.stage.addChild(a),a.x=e-120,a.y=10,new W({ele:r,width:i,height:o,update:function(){r.sceneMap.update()}}),s=new k({content:r,maskWidth:e,maskHeight:n,contentWidth:700,contentHeight:1e3}),h=new R({ele:r,value:1,minZoom:t,maxZoom:2,update:function(t){a.ratio=t,s.contentWidth=i*t,s.contentHeight=o*t}}),r.sceneMap.update(),[2]}))},new((a=void 0)||(a=Promise))((function(e,n){function i(t){try{h(s.next(t))}catch(t){n(t)}}function o(t){try{h(s.throw(t))}catch(t){n(t)}}function h(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(t){t(n)}))).then(i,o)}h((s=s.apply(t,r||[])).next())}));var t,r,a,s},r}(PIXI.Application);var W=function(){function t(t){var e=(this.options=t).ele;this.ele=e,this.ele.interactive=!0,this.ele.on("pointerdown",this.onDragStart,this)}return t.prototype.onDragStart=function(t){var e=t.data.global,n=e.x,i=e.y;this.dragging=!0,this.offset={x:this.ele.x-n,y:this.ele.y-i},this.ele.on("pointerup",this.onDragEnd,this),this.ele.on("pointerupoutside",this.onDragEnd,this),this.ele.on("pointermove",this.onDragMove,this)},t.prototype.onDragEnd=function(){this.dragging=!1,this.offset=null,this.ele.off("pointerup",this.onDragEnd,this).off("pointerupoutside",this.onDragEnd,this).off("pointermove",this.onDragMove,this)},t.prototype.onDragMove=function(t){if(this.dragging){var r=t.data.global,a=r.x,s=r.y,h=a+this.offset.x;h=h>=0?0:h<=-(i*this.ele.scale.x-e)?-(i*this.ele.scale.x-e):h;var c=s+this.offset.y;c=c>=0?0:c<=-(o*this.ele.scale.y-n)?-(o*this.ele.scale.y-n):c,this.ele.x=h,this.ele.y=c,this.options.update&&this.options.update()}},t}(),k=function(){function t(t){var e=this._options=t,n=e.content,i=e.maskWidth,o=e.maskHeight,r=e.contentWidth,a=e.contentHeight;this._content=n,this._maskWidth=i,this._maskHeight=o,this._contentWidth=r,this._contentHeight=a,this._deceleration=.001,this._content.on("pointerdown",this.onPointerDownListener,this)}return t.prototype.onPointerDownListener=function(){var t=window.TweenMax.getTweensOf(this._content);t.length&&t[0].kill(),this._start={time:(new Date).getTime(),x:this._content.x,y:this._content.y},this._content.on("pointerup",this.onPointerUpListener,this),this._content.on("pointerout",this.onPointerOutListener,this)},t.prototype.onPointerUpListener=function(){if(this._start){var t=(new Date).getTime()-this._start.time,e=this.momentum(this._content.x,this._start.x,t,this.maxScrollLeft,0,this._deceleration),n=this.momentum(this._content.y,this._start.y,t,this.maxScrollTop,0,this._deceleration),i=e.destination,o=n.destination,r=Math.max(e.duration,n.duration),a={x:i,y:o,ease:window.Power2.easeOut,onUpdate:function(){},onComplete:function(){}};window.TweenMax.to(this._content,r/1e3,a)}this._content.off("pointerup",this.onPointerUpListener,this),this._content.off("pointerout",this.onPointerOutListener,this)},t.prototype.onPointerOutListener=function(){this.onPointerUpListener()},t.prototype.momentum=function(t,e,n,i,o,r){void 0===r&&(r=6e-4);var a,s,h,c=t-e,l=Math.abs(c)/n;return s=l/r,(a=t+(l*(h=(0-l)/r)+.5*r*h*h)*(c>0?-1:1))<i?(a=o?i-o/2.5*(l/8):i,s=(c=Math.abs(a-t))/l):a>0&&(a=o?o/2.5*(l/8):0,s=(c=Math.abs(t)+a)/l),{destination:Math.round(a),duration:s}},Object.defineProperty(t.prototype,"contentWidth",{set:function(t){this._contentWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentHeight",{set:function(t){this._contentHeight=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxScrollLeft",{get:function(){return this._maskWidth-this._contentWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxScrollTop",{get:function(){return this._maskHeight-this._contentHeight},enumerable:!1,configurable:!0}),t}(),R=function(){function t(e){var n=this.$config=Object.assign({},t.defaultConfig,e),i=n.ele,o=n.value;this.ele=i,this.value=o,this.onMouseWheel=this.onMouseWheel.bind(this),document.addEventListener("mousewheel",this.onMouseWheel,{passive:!1})}return t.prototype.onMouseWheel=function(t){this.zoom(t),t.preventDefault()},t.prototype.zoom=function(t){var e=this.$config,n=e.speed,i=e.minZoom,o=e.maxZoom,r=this.value,a=t.wheelDelta<=0?r-n:r+n;a>=o?a=o:a<=i&&(a=i),this.value=a,this.$config.update&&this.$config.update(this.value),this.calculatePosition(r,a,t.clientX,t.clientY)},t.prototype.calculatePosition=function(t,e,n,i){var o=e/t;this.x*=o,this.y*=o,this.x-=(o-1)*n,this.y-=(o-1)*i},Object.defineProperty(t.prototype,"value",{get:function(){return this.ele.scale.x},set:function(t){t=t>this.$config.maxZoom?this.$config.maxZoom:t<this.$config.minZoom?this.$config.minZoom:t,this.ele.scale.set(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.ele.x},set:function(t){t=t>=0?0:t<=-(i*this.value-e)?-(i*this.value-e):t,this.ele.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.ele.y},set:function(t){t=t>=0?0:t<=-(o*this.value-n)?-(o*this.value-n):t,this.ele.y=t},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){document.removeEventListener("mousewheel",this.onMouseWheel)},t.defaultConfig={x:0,y:0,value:1,speed:.2,minScale:.5,maxScale:2},t}();new S({width:e,height:n,backgroundColor:13421772})})();